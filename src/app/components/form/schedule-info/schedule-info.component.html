<div class="card" [formGroup]="form">
    <h3 class="card-title">Schedule Information</h3>

    <!-- Schedule Type -->
    <div class="form-group">
        <label class="form-label">Schedule Type <span class="required">*</span></label>
        <select formControlName="scheduleType" class="form-control cursor-pointer">
      <option value="">Select Type</option>
      <option value="One Time">One Time</option>
      <option value="Daily">Daily</option>
      <option value="Repeat Window">Repeat Window</option>
      <option value="Immediate">Immediate</option>
    </select>
    </div>

    <!-- Time Zone - Always Visible -->
    <div class="form-group">
        <label class="form-label">Time Zone <span class="required">*</span></label>
        <select formControlName="timeZone" class="form-control cursor-pointer">
      <option value="">Select Time Zone</option>
      <option *ngFor="let tz of timeZones" [value]="tz.value">{{ tz.label }}</option>
    </select>
    </div>

    <!-- One Time -->
    <ng-container *ngIf="scheduleType === 'One Time'">
        <div class="form-group">
            <label class="form-label">Run On Date <span class="required">*</span></label>
            <input type="date" formControlName="runOnDate" class="form-control date-time-picker" placeholder="mm/dd/yyyy" />
        </div>

        <div class="form-group">
            <label class="form-label">Once A Day (HH:mm) <span class="required">*</span></label>
            <input type="time" formControlName="onceADay" step="60" [min]="minTime" class="form-control date-time-picker" />
            <div *ngIf="showFutureTimeErrorOnceADay()" class="error-text">
                Please select a future time
            </div>
        </div>
    </ng-container>

    <!-- Daily -->
    <ng-container *ngIf="scheduleType === 'Daily'">
        <div class="form-group">
            <label class="form-label">Once A Day (HH:mm) <span class="required">*</span></label>
            <input type="time" formControlName="onceADay" step="60" [min]="minTime" class="form-control date-time-picker" />
            <div *ngIf="showFutureTimeErrorOnceADay()" class="error-text">
                Please select a future time
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Frequency in Days <span class="required">*</span></label>
            <input type="number" formControlName="frequencyInDays" min="1" max="365" class="form-control" />
        </div>

        <div class="form-group">
            <label class="form-label">Schedule Start Date <span class="required">*</span></label>
            <input type="date" formControlName="scheduleStartDate" class="form-control date-time-picker" placeholder="mm/dd/yyyy" />
        </div>

        <div class="form-group">
            <label class="form-label">Schedule End Date <span class="required">*</span></label>
            <input type="date" formControlName="scheduleEndDate" class="form-control date-time-picker" placeholder="mm/dd/yyyy" />
        </div>
    </ng-container>

    <!-- Repeat Window -->
    <ng-container *ngIf="scheduleType === 'Repeat Window'">
        <div class="form-group">
            <label class="form-label">Run On Date (yyyy-MM-dd) <span class="required">*</span></label>
            <input type="date" formControlName="runOnDate" class="form-control date-time-picker" />
        </div>

        <div class="form-group">
            <label class="form-label">Repeat Start Time (HH:mm) <span class="required">*</span></label>
            <input type="time" formControlName="repeatStartTime" step="60" [min]="minTime" class="form-control date-time-picker" />
            <div *ngIf="showFutureTimeErrorStartTime()" class="error-text">
                Please select a future time
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Repeat End Time (HH:mm) <span class="required">*</span></label>
            <input type="time" formControlName="repeatEndTime" step="60" class="form-control date-time-picker" />
        </div>

        <div class="form-group">
            <label class="form-label">Interval in Seconds <span class="required">*</span></label>
            <input type="number" formControlName="intervalInSeconds" min="1" class="form-control" />
        </div>
    </ng-container>

    <!-- Immediate: No additional fields -->

    <!-- Buttons -->
    <div class="button-group">
        <button class="btn btn-primary" [disabled]="form.invalid || isSubmitting" (click)="onSubmit()">
      Confirm Schedule
    </button>
        <button class="btn btn-secondary" (click)="onCancel()" *ngIf="scheduleType === 'One Time' || scheduleType === 'Daily'">
      Cancel
    </button>
    </div>
</div>