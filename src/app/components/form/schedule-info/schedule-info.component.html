<div class="card" [formGroup]="form">
  <h3 class="card-title">Schedule Information</h3>

  <div class="form-group">
    <label for="scheduleType" class="form-label">
      Schedule Type <span class="required">*</span>
    </label>
    <select 
      id="scheduleType" 
      formControlName="scheduleType" 
      class="form-control"
    >
      <option value="">Select Type</option>
      <option value="One Time">One Time</option>
      <option value="Daily">Daily</option>
      <option value="Repeat Window">Repeat Window</option>
      <option value="Immediate">Immediate</option>
    </select>
    <div *ngIf="isFieldInvalid('scheduleType')" class="error-text">
      Schedule Type is required
    </div>
  </div>

  <ng-container *ngIf="scheduleType === 'One Time' || scheduleType === 'Repeat Window'">
    <div class="form-group">
      <label for="runOnDate" class="form-label">
        Run On Date (yyyy-MM-dd) <span class="required">*</span>
      </label>
      <input 
        id="runOnDate" 
        type="date" 
        formControlName="runOnDate" 
        class="form-control" 
      />
      <div *ngIf="isFieldInvalid('runOnDate')" class="error-text">
        Run On Date is required
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="scheduleType === 'One Time' || scheduleType === 'Daily'">
    <div class="form-group">
      <label for="onceADay" class="form-label">
        Once A Day (HH:mm:ss) <span class="required">*</span>
      </label>
      <input 
        id="onceADay" 
        type="time" 
        formControlName="onceADay" 
        step="1" 
        class="form-control" 
      />
      <div *ngIf="isFieldInvalid('onceADay')" class="error-text">
        Time is required
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="scheduleType === 'Daily'">
    <div class="form-group">
      <label for="frequencyInDays" class="form-label">
        Frequency in Days <span class="required">*</span>
      </label>
      <input 
        id="frequencyInDays" 
        type="number" 
        formControlName="frequencyInDays" 
        min="1" 
        max="365" 
        class="form-control" 
      />
      <div *ngIf="isFieldInvalid('frequencyInDays')" class="error-text">
        Valid number between 1 and 365 is required
      </div>
    </div>

    <div class="form-group">
      <label for="scheduleStartDate" class="form-label">
        Schedule Start Date <span class="required">*</span>
      </label>
      <input 
        id="scheduleStartDate" 
        type="date" 
        formControlName="scheduleStartDate" 
        class="form-control" 
      />
      <div *ngIf="isFieldInvalid('scheduleStartDate')" class="error-text">
        Start Date is required
      </div>
    </div>

    <div class="form-group">
      <label for="scheduleEndDate" class="form-label">
        Schedule End Date <span class="required">*</span>
      </label>
      <input 
        id="scheduleEndDate" 
        type="date" 
        formControlName="scheduleEndDate" 
        class="form-control" 
      />
      <div *ngIf="isFieldInvalid('scheduleEndDate')" class="error-text">
        End Date is required
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="scheduleType === 'Repeat Window'">
    <div class="form-group">
      <label for="repeatStartTime" class="form-label">
        Repeat Start Time (HH:mm:ss) <span class="required">*</span>
      </label>
      <input 
        id="repeatStartTime" 
        type="time" 
        formControlName="repeatStartTime" 
        step="1" 
        class="form-control" 
      />
      <div *ngIf="isFieldInvalid('repeatStartTime')" class="error-text">
        Start Time is required
      </div>
    </div>

    <div class="form-group">
      <label for="repeatEndTime" class="form-label">
        Repeat End Time (HH:mm:ss) <span class="required">*</span>
      </label>
      <input 
        id="repeatEndTime" 
        type="time" 
        formControlName="repeatEndTime" 
        step="1" 
        class="form-control" 
      />
      <div *ngIf="isFieldInvalid('repeatEndTime')" class="error-text">
        End Time is required
      </div>
    </div>

    <div class="form-group">
      <label for="intervalInSeconds" class="form-label">
        Interval in Seconds <span class="required">*</span>
      </label>
      <input 
        id="intervalInSeconds" 
        type="number" 
        formControlName="intervalInSeconds" 
        min="1" 
        max="3600" 
        class="form-control" 
      />
      <div *ngIf="isFieldInvalid('intervalInSeconds')" class="error-text">
        Valid number between 1 and 3600 is required
      </div>
    </div>
  </ng-container>

  <div class="button-group">
    <button 
      type="button" 
      class="btn btn-primary" 
      [disabled]="isSubmitting || form.invalid"
      (click)="onSubmit()"
    >
      <span *ngIf="!isSubmitting">Confirm Schedule</span>
      <span *ngIf="isSubmitting">Scheduling...</span>
    </button>
    <button 
      type="button" 
      class="btn btn-secondary" 
      (click)="onCancel()"
      [disabled]="isSubmitting"
    >
      Cancel
    </button>
  </div>
</div>